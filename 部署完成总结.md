# éƒ¨ç½²å®Œæˆæ€»ç»“

## âœ… å‰ç«¯éƒ¨ç½²ï¼ˆVercelï¼‰

### çŠ¶æ€
- âœ… ä»£ç å·²æäº¤åˆ° Git
- âœ… ä»£ç å·²æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼ˆGitHubï¼‰
- âœ… Vercel ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶å¼€å§‹éƒ¨ç½²

### æäº¤ä¿¡æ¯
```
commit 4d40658
feat: M4å®Œæˆ - ç»Ÿä¸€é”™è¯¯å¤„ç†ç³»ç»Ÿã€æ¨¡å¼åˆ‡æ¢ã€å……å€¼åŠŸèƒ½
```

### å˜æ›´ç»Ÿè®¡
- 84 ä¸ªæ–‡ä»¶å˜æ›´
- 15,161 è¡Œæ–°å¢
- 193 è¡Œåˆ é™¤

### ä¸»è¦æ–°å¢åŠŸèƒ½
1. âœ… ç»Ÿä¸€é”™è¯¯å¤„ç†ç³»ç»Ÿï¼ˆ`lib/errors/`ï¼‰
2. âœ… é”™è¯¯æ˜¾ç¤ºç»„ä»¶ï¼ˆ`components/errors/error-display.tsx`ï¼‰
3. âœ… æ¨¡å¼åˆ‡æ¢åŠŸèƒ½ï¼ˆ`app/api/mode/toggle/route.ts`ï¼‰
4. âœ… å……å€¼åŠŸèƒ½ï¼ˆ`app/api/credits/add/route.ts`ï¼‰
5. âœ… å›¾ç‰‡ç”Ÿæˆ APIï¼ˆ`app/api/ai/generate-image/route.ts`ï¼‰

## ğŸ”„ åç«¯éƒ¨ç½²ï¼ˆECSï¼‰

### éœ€è¦æ‰‹åŠ¨éƒ¨ç½²çš„æ–‡ä»¶

#### 1. ä¿®æ”¹çš„æ–‡ä»¶
- `backend-api/src/credits/credits.controller.ts` - æ·»åŠ äº†å……å€¼æ¥å£

#### 2. éƒ¨ç½²æ­¥éª¤

```bash
# åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
cd /opt/ue-assets-backend/backend-api

# æ‹‰å–æœ€æ–°ä»£ç ï¼ˆå¦‚æœä½¿ç”¨ Gitï¼‰
git pull

# æˆ–è€…æ‰‹åŠ¨ä¸Šä¼ ä¿®æ”¹åçš„æ–‡ä»¶
# scp backend-api/src/credits/credits.controller.ts root@server:/opt/ue-assets-backend/backend-api/src/credits/

# é‡æ–°ç¼–è¯‘
npm install
npm run build

# é‡å¯æœåŠ¡
pm2 restart ue-assets-backend

# æŸ¥çœ‹æ—¥å¿—
pm2 logs ue-assets-backend --lines 30
```

## ğŸ“‹ éƒ¨ç½²éªŒè¯æ¸…å•

### å‰ç«¯éªŒè¯
- [ ] è®¿é—®ç½‘ç«™ï¼Œç¡®è®¤éƒ¨ç½²æˆåŠŸ
- [ ] æµ‹è¯•é”™è¯¯æ˜¾ç¤ºåŠŸèƒ½ï¼ˆåˆ‡æ¢åˆ° REAL æ¨¡å¼ï¼Œä½™é¢ä¸è¶³æ—¶ï¼‰
- [ ] æµ‹è¯•æ¨¡å¼åˆ‡æ¢åŠŸèƒ½ï¼ˆç‚¹å‡»æ¨¡å¼æ ‡ç­¾ï¼‰
- [ ] æµ‹è¯•å……å€¼åŠŸèƒ½ï¼ˆå¼€å‘ç¯å¢ƒï¼Œç‚¹å‡»"ğŸ’° +100ç§¯åˆ†"æŒ‰é’®ï¼‰

### åç«¯éªŒè¯
- [ ] å¥åº·æ£€æŸ¥ï¼š`curl https://api.your-domain.com/health`
- [ ] å……å€¼æ¥å£ï¼š`curl -X POST https://api.your-domain.com/credits/recharge -H "Authorization: Bearer <token>" -H "Content-Type: application/json" -d '{"amount": 100}'`

## ğŸ¯ ä¸‹ä¸€æ­¥

1. **ç­‰å¾… Vercel éƒ¨ç½²å®Œæˆ**
   - è®¿é—® Vercel Dashboard æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€
   - é€šå¸¸éœ€è¦ 2-5 åˆ†é’Ÿ

2. **éƒ¨ç½²åç«¯ä»£ç **
   - æŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤åœ¨æœåŠ¡å™¨ä¸Šæ›´æ–°ä»£ç 
   - é‡å¯åç«¯æœåŠ¡

3. **æµ‹è¯•æ‰€æœ‰åŠŸèƒ½**
   - æŒ‰ç…§éªŒè¯æ¸…å•é€ä¸€æµ‹è¯•

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å……å€¼æ¥å£**ï¼šç”Ÿäº§ç¯å¢ƒé»˜è®¤ç¦ç”¨ï¼Œå¦‚éœ€å¯ç”¨éœ€è®¾ç½® `ALLOW_RECHARGE=true`
2. **ç¯å¢ƒå˜é‡**ï¼šç¡®ä¿å‰åç«¯çš„ `JWT_SECRET` ä¸€è‡´
3. **é”™è¯¯è¿½è¸ª**ï¼šå¼€å‘ç¯å¢ƒæ˜¾ç¤ºè¿½è¸ª IDï¼Œç”Ÿäº§ç¯å¢ƒéšè—

## ğŸ“ å¦‚æœé‡åˆ°é—®é¢˜

1. **å‰ç«¯éƒ¨ç½²å¤±è´¥**
   - æŸ¥çœ‹ Vercel æ„å»ºæ—¥å¿—
   - æ£€æŸ¥ç¯å¢ƒå˜é‡é…ç½®

2. **åç«¯éƒ¨ç½²å¤±è´¥**
   - æŸ¥çœ‹ PM2 æ—¥å¿—ï¼š`pm2 logs ue-assets-backend`
   - æ£€æŸ¥æ–‡ä»¶æƒé™å’Œè·¯å¾„

