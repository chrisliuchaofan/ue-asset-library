# ğŸ”Œ ç«¯å£é…ç½®è¯´æ˜

## ğŸ“ ç«¯å£ä½¿ç”¨æƒ…å†µ

### åç«¯æœåŠ¡ç«¯å£

- **é»˜è®¤ç«¯å£**ï¼š`3002`ï¼ˆå·²ä» 3001 æ”¹ä¸º 3002ï¼Œé¿å…å†²çªï¼‰
- **é…ç½®ä½ç½®**ï¼š`backend-api/.env` æ–‡ä»¶ä¸­çš„ `PORT` ç¯å¢ƒå˜é‡
- **ä»£ç ä½ç½®**ï¼š`backend-api/src/main.ts` ç¬¬ 69 è¡Œ

### å‰ç«¯æœåŠ¡ç«¯å£

- **é»˜è®¤ç«¯å£**ï¼š`3000`
- **é…ç½®ä½ç½®**ï¼šNext.js é»˜è®¤ç«¯å£ï¼Œå¯é€šè¿‡ `PORT` ç¯å¢ƒå˜é‡ä¿®æ”¹

## ğŸ”— å…³è”é…ç½®

### 1. åç«¯æœåŠ¡é…ç½®

**æ–‡ä»¶**ï¼š`backend-api/.env`
```env
PORT=3002
```

### 2. å‰ç«¯è¿æ¥åç«¯é…ç½®

**æ–‡ä»¶**ï¼š`.env.local`ï¼ˆæœ¬åœ°å¼€å‘ï¼‰æˆ–ç¯å¢ƒå˜é‡ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

```env
# æœ¬åœ°å¼€å‘ï¼ˆå¦‚æœåç«¯åœ¨æœ¬åœ°è¿è¡Œï¼‰
BACKEND_API_URL=http://localhost:3002
NEXT_PUBLIC_BACKEND_API_URL=http://localhost:3002

# æœåŠ¡å™¨éƒ¨ç½²ï¼ˆå¦‚æœåç«¯åœ¨æœåŠ¡å™¨ä¸Šï¼‰
BACKEND_API_URL=http://ä½ çš„æœåŠ¡å™¨IP:3002
NEXT_PUBLIC_BACKEND_API_URL=http://ä½ çš„æœåŠ¡å™¨IP:3002
```

### 3. ä»£ç ä¸­çš„é»˜è®¤å€¼

ä»¥ä¸‹æ–‡ä»¶ä¸­çš„é»˜è®¤å€¼å·²æ›´æ–°ä¸º 3002ï¼š

- âœ… `lib/backend-client.ts` - é»˜è®¤ï¼š`http://localhost:3002`
- âœ… `lib/auth-config.ts` - é»˜è®¤ï¼š`http://localhost:3002`
- âœ… `next.config.ts` - å›¾ç‰‡é…ç½®å…è®¸çš„ç«¯å£ï¼š`3002`

**æ³¨æ„**ï¼šè¿™äº›é»˜è®¤å€¼ä¼šåœ¨ç¯å¢ƒå˜é‡æœªè®¾ç½®æ—¶ä½¿ç”¨ã€‚ä¼˜å…ˆä½¿ç”¨ç¯å¢ƒå˜é‡é…ç½®ã€‚

## ğŸ”„ å¦‚ä½•ä¿®æ”¹ç«¯å£

### ä¿®æ”¹åç«¯ç«¯å£

1. **åœ¨æœåŠ¡å™¨ä¸Š**ï¼š
   ```bash
   cd /opt/ue-assets-backend/backend-api
   echo "PORT=3003" > .env  # æˆ–ä½¿ç”¨å…¶ä»–ç«¯å£
   ```

2. **åœ¨æœ¬åœ°å¼€å‘**ï¼š
   ```bash
   cd backend-api
   echo "PORT=3003" >> .env
   ```

### ä¿®æ”¹å‰ç«¯è¿æ¥çš„åç«¯åœ°å€

åœ¨ `.env.local` ä¸­è®¾ç½®ï¼š
```env
BACKEND_API_URL=http://localhost:3003
NEXT_PUBLIC_BACKEND_API_URL=http://localhost:3003
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç«¯å£å†²çª**ï¼šå¦‚æœ 3002 ä¹Ÿè¢«å ç”¨ï¼Œå¯ä»¥æ”¹ä¸º 3003ã€3004 ç­‰ä»»æ„å¯ç”¨ç«¯å£
2. **é˜²ç«å¢™**ï¼šç¡®ä¿æœåŠ¡å™¨é˜²ç«å¢™å…è®¸ç›¸åº”ç«¯å£çš„è®¿é—®
3. **ç¯å¢ƒå˜é‡ä¼˜å…ˆçº§**ï¼šç¯å¢ƒå˜é‡ > ä»£ç é»˜è®¤å€¼
4. **ç”Ÿäº§ç¯å¢ƒ**ï¼šç”Ÿäº§ç¯å¢ƒåº”è¯¥ä½¿ç”¨ç¯å¢ƒå˜é‡é…ç½®ï¼Œä¸è¦ä¾èµ–ä»£ç é»˜è®¤å€¼

## ğŸ§ª éªŒè¯é…ç½®

### æ£€æŸ¥åç«¯ç«¯å£

```bash
# åœ¨æœåŠ¡å™¨ä¸Š
cd /opt/ue-assets-backend/backend-api
cat .env | grep PORT
```

### æ£€æŸ¥å‰ç«¯é…ç½®

```bash
# åœ¨æœ¬åœ°
grep BACKEND_API_URL .env.local
```

### æµ‹è¯•è¿æ¥

```bash
# æµ‹è¯•åç«¯æœåŠ¡æ˜¯å¦å¯è®¿é—®
curl http://localhost:3002/health
# æˆ–
curl http://ä½ çš„æœåŠ¡å™¨IP:3002/health
```


