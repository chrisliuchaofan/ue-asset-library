# 🧪 功能测试清单

部署完成后的功能测试指南

## 📋 测试前准备

- [ ] 确保前端可以访问：`https://www.factory-buy.com`
- [ ] 确保后端 API 可以访问：`https://api.factory-buy.com/health`
- [ ] 浏览器开发者工具已打开（F12）

---

## 1. 基础功能测试

### 1.1 前端访问测试

- [ ] 访问 `https://www.factory-buy.com`，页面正常加载
- [ ] 检查浏览器控制台（Console），没有红色错误
- [ ] 检查网络请求（Network），资源正常加载
- [ ] 页面响应速度正常（< 3 秒）

### 1.2 后端 API 测试

在浏览器控制台执行：

```javascript
// 测试健康检查
fetch('https://api.factory-buy.com/health')
  .then(r => r.json())
  .then(console.log);
```

- [ ] 返回：`{status: "ok", timestamp: ...}`

---

## 2. 登录功能测试

### 2.1 访问登录页面

- [ ] 访问 `https://www.factory-buy.com/auth/login`
- [ ] 登录页面正常显示
- [ ] 表单可以正常输入

### 2.2 测试登录

使用测试账号登录：
- 邮箱：`test@factory-buy.com`
- 密码：`password123`

- [ ] 输入用户名和密码
- [ ] 点击登录按钮
- [ ] 登录成功，跳转到 `/admin` 页面
- [ ] 浏览器控制台没有错误

### 2.3 测试登录失败

- [ ] 输入错误的密码
- [ ] 显示错误提示："用户名或密码错误"
- [ ] 可以重新输入

### 2.4 测试未登录访问

- [ ] 登出（如果已登录）
- [ ] 访问 `https://www.factory-buy.com/admin`
- [ ] 自动跳转到登录页面

---

## 3. 资产库功能测试

### 3.1 资产列表页

- [ ] 访问 `https://www.factory-buy.com/assets`
- [ ] 资产列表正常显示
- [ ] 图片/视频正常加载
- [ ] 分页功能正常

### 3.2 搜索功能

- [ ] 在搜索框输入关键词
- [ ] 搜索结果正常显示
- [ ] 搜索响应速度正常（< 1 秒）

### 3.3 筛选功能

- [ ] 点击标签筛选
- [ ] 点击类型筛选
- [ ] 筛选结果正常更新
- [ ] 可以清除筛选条件

### 3.4 资产详情页

- [ ] 点击某个资产卡片
- [ ] 详情页正常打开
- [ ] 图片/视频可以正常查看
- [ ] 返回列表功能正常

---

## 4. 管理页面测试

### 4.1 访问管理页面

- [ ] 登录后访问 `https://www.factory-buy.com/admin`
- [ ] 管理页面正常显示
- [ ] 没有权限错误

### 4.2 资产管理功能

- [ ] 查看资产列表
- [ ] 可以编辑资产信息（如果支持）
- [ ] 可以删除资产（如果支持）
- [ ] 可以添加新资产（如果支持）

### 4.3 材料管理功能

- [ ] 访问材料管理页面
- [ ] 材料列表正常显示
- [ ] 可以编辑/删除材料（如果支持）

---

## 5. 性能测试

### 5.1 页面加载速度

- [ ] 首页加载时间 < 3 秒
- [ ] 资产列表页加载时间 < 2 秒
- [ ] 详情页加载时间 < 1 秒

### 5.2 资源加载

- [ ] 图片懒加载正常
- [ ] 视频按需加载
- [ ] CDN 资源正常加载（如果配置了）

### 5.3 响应式测试

- [ ] 桌面端显示正常
- [ ] 平板端显示正常（可选）
- [ ] 移动端显示正常（可选）

---

## 6. 错误处理测试

### 6.1 网络错误

- [ ] 断开网络后访问页面
- [ ] 显示友好的错误提示
- [ ] 可以重试

### 6.2 404 页面

- [ ] 访问不存在的页面（如 `/test-404`）
- [ ] 显示 404 页面
- [ ] 可以返回首页

---

## 7. 浏览器兼容性测试

- [ ] Chrome 浏览器正常
- [ ] Safari 浏览器正常（可选）
- [ ] Firefox 浏览器正常（可选）

---

## 8. 移动端测试（可选）

- [ ] 手机浏览器访问正常
- [ ] 触摸操作正常
- [ ] 响应式布局正常

---

## 📝 测试结果记录

### 测试日期：___________

### 测试人员：___________

### 发现的问题：

1. _________________________________
2. _________________________________
3. _________________________________

### 测试结论：

- [ ] 所有功能正常
- [ ] 部分功能有问题（见上方问题列表）
- [ ] 需要修复的问题：___________

---

## 🔧 常见问题排查

### 问题 1：页面无法访问

**检查：**
- DNS 解析是否正常
- Vercel 部署是否成功
- 浏览器控制台错误信息

### 问题 2：登录失败

**检查：**
- 环境变量 `NEXTAUTH_SECRET` 是否正确
- 环境变量 `USER_WHITELIST` 是否正确
- 浏览器控制台错误信息

### 问题 3：后端 API 无法访问

**检查：**
- 后端服务是否运行：`pm2 status`
- Nginx 配置是否正确
- SSL 证书是否有效

### 问题 4：图片/视频无法加载

**检查：**
- OSS 配置是否正确
- CDN 配置是否正确
- 网络连接是否正常

---

## ✅ 测试完成检查清单

- [ ] 所有基础功能测试通过
- [ ] 登录功能正常
- [ ] 资产库功能正常
- [ ] 管理页面功能正常
- [ ] 性能表现良好
- [ ] 没有严重错误
- [ ] 测试结果已记录

---

**测试完成后，如果发现问题，请记录并反馈！**


