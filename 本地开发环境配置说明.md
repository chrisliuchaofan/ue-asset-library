# 本地开发环境配置说明

## 问题

前端在本地开发时，默认使用生产环境的后端 URL (`https://api.factory-buy.com`)，导致无法连接到本地后端服务。

## 解决方案

在 `.env.local` 文件中添加以下配置：

```env
# 本地开发时使用本地后端服务
NEXT_PUBLIC_BACKEND_API_URL=http://localhost:3002
```

或者（如果服务端也需要）：

```env
# 前端使用的后端 URL（客户端可访问）
NEXT_PUBLIC_BACKEND_API_URL=http://localhost:3002

# 服务端使用的后端 URL（可选，如果不同的话）
BACKEND_API_URL=http://localhost:3002
```

## 配置说明

- **`NEXT_PUBLIC_BACKEND_API_URL`**：前端（浏览器）使用的后端 URL，必须有 `NEXT_PUBLIC_` 前缀才能在客户端访问
- **`BACKEND_API_URL`**：服务端 API 路由使用的后端 URL（如果没有 `NEXT_PUBLIC_` 前缀，只能在服务端访问）

## 环境区分

### 本地开发环境
```env
NEXT_PUBLIC_BACKEND_API_URL=http://localhost:3002
```

### 生产环境
```env
NEXT_PUBLIC_BACKEND_API_URL=https://api.factory-buy.com
```

## 验证配置

配置后，重启开发服务器，然后：

1. 在浏览器控制台运行：
   ```javascript
   console.log('后端 URL:', process.env.NEXT_PUBLIC_BACKEND_API_URL);
   ```
   应该显示 `http://localhost:3002`

2. 点击"用户管理"等菜单项，应该能正常加载数据

## 注意事项

- `.env.local` 文件不会被提交到 Git（已在 `.gitignore` 中）
- 修改 `.env.local` 后需要**重启开发服务器**才能生效
- 生产环境部署时，需要在部署平台（如 Vercel）配置环境变量







